"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[2712],{23448:(e,t,n)=>{n.d(t,{A:()=>o});var a,i=n(96540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(null,arguments)}const o=function(e){return i.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"none",viewBox:"0 0 25 25"},e),a||(a=i.createElement("path",{fill:"currentColor",d:"M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"})))}},79766:(e,t,n)=>{n.d(t,{c:()=>r});var a=n(96540),i=n(39160);function r(e){var t=e.disabled,n=e.message,r=void 0===n?"Changes you made may not be saved.":n,o=(0,i.d4)((function(e){return e.client.hydrated}));a.useEffect((function(){if(!t&&o)return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)};function e(e){return e.preventDefault(),e.returnValue=r,r}}),[t,r,o])}},93948:(e,t,n)=>{n.d(t,{f:()=>ce});var a,i=n(58168),r=n(80045),o=n(80296),l=n(39181),d=n(96540),c=n(64467),s=n(45458),u=n(22554),g=n(11818),v=n(52290),f=n(86527),p=n(36557),m=n(44402),b=n(91830),h=n(30142),k=n(77662),y=n(53424),E=n(42976);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w.apply(null,arguments)}const I=function(e){return d.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:10,height:13,fill:"none",viewBox:"0 0 10 13"},e),a||(a=d.createElement("path",{fill:"#A8A8A8",fillRule:"evenodd",d:"M2.727 3.082C2.727 1.905 3.74.935 5 .935s2.273.973 2.273 2.147v2.436H2.727zM8.19 5.518h-.007V3.082C8.182 1.378 6.747 0 5 0 3.252 0 1.818 1.373 1.818 3.082v2.436h-.007c-.48.002-.941.2-1.28.55S0 6.892 0 7.387v3.744c0 .246.045.489.136.715.09.227.224.433.392.607s.368.311.588.405.457.142.695.142h6.378c.48-.002.941-.2 1.28-.55s.53-.824.531-1.319V7.387c0-.246-.045-.489-.136-.715a1.9 1.9 0 0 0-.392-.607 1.8 1.8 0 0 0-.588-.405 1.8 1.8 0 0 0-.695-.142",clipRule:"evenodd"})))};var O=n(15371),C=n(5521);function P(e){var t,n,a=e.children,i=e.target,r=e.kind,l=e.catalog,c=e.viewer,s=d.useMemo((function(){if(l.predefined){var e,t=null===(e=i.viewerEdge.catalogsConnection)||void 0===e?void 0:e.predefinedContainingThis.find((function(e){return e.predefined===l.predefined}));return[!!t,null==t?void 0:t.catalogItemIds]}var n,a=null===(n=i.viewerEdge.catalogsConnection)||void 0===n?void 0:n.catalogsContainingThis.find((function(e){return e.catalogId===l.id}));return[!!a,null==a?void 0:a.catalogItemIds]}),[l.predefined,l.id,i.viewerEdge]),u=(0,o.A)(s,2),g=u[0],v=u[1],f=(0,C.EH)(c.id,l.id,l.version,i.id,r,null!==(t=l.predefined)&&void 0!==t?t:void 0),p=(0,o.A)(f,2),m=p[0],b=p[1].loading,h=(0,C.$O)(c.id,l.id,l.version,[{entityId:i.id,entityType:r,catalogItemIds:v||[]}],null!==(n=l.predefined)&&void 0!==n?n:void 0),k=(0,o.A)(h,2),y=k[0],E=k[1].loading;return a({toggleInsideCatalog:g?y:m,isInsideCatalog:g,loading:b||E})}var T={display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"16px",paddingRight:"5px"},j=function(e){return{marginBottom:"1px","& path":{fill:e.colorTokens.border.neutral.secondary.base}}};function A(e){var t=e.catalog,n=e.target,a=e.kind,i=e.viewer,r=(0,m.l)();return d.createElement(P,{viewer:i,target:n,kind:a,catalog:t},(function(e){var n=e.toggleInsideCatalog,a=e.isInsideCatalog,i=e.loading,o=t.predefined?(0,O.cm)(t.predefined):t.name;return d.createElement("div",{className:r(T)},d.createElement(y.S,{key:t.id,checked:a,checkboxStyle:"OBVIOUS",onChange:n,disabled:i||t.visibility===E.y_.LOCKED,textScale:"L",clampText:1},o),t.visibility!==E.y_.PUBLIC&&d.createElement(v.a,{paddingLeft:"8px"},d.createElement(I,{className:r(j)})))}))}function S(e){var t=e.target,n=e.kind,a=e.catalogs,i=e.isLoading,r=e.viewer,o=e.fetchMore,l=e.scrollableEl;return i?d.createElement(v.a,{display:"flex",justifyContent:"center",padding:"40px 0"},d.createElement(p.kZ,{color:"DARKER",scale:"L",tag:"div"},d.createElement(k.k,null))):a?d.createElement(h.i,{fetchMore:o,scrollableEl:l},a.map((function(e){return d.createElement(A,{viewer:r,key:e.id,catalog:e,target:t,kind:n})}))):null}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={maxHeight:"240px",overflowY:"auto",padding:"24px 20px 16px 24px"};function N(e){var t,n,a,i=e.target,r=e.kind,o=e.showCreateModal,c=e.hidePanel,h=e.viewer,k=e.addToPredefinedLoading,y=d.useRef(null),E=(0,m.l)(),w=(0,u.e1)({limit:u.eB,userId:h.id}),I=(0,b.zF)(),O=(0,l.I)(g.j,{variables:w,skip:k}),C=O.data,P=O.error,T=O.loading,j=O.fetchMore,A=k||T;d.useEffect((function(){P&&I({toastStyle:"RETRYABLE_ERROR",duration:4e3})}),[P]);var x,N=d.useCallback((function(){o(),c()}),[o,c]),B=null==C?void 0:C.catalogsByUser.catalogs;return B&&"Catalog"===(null==C||null===(t=C.readingList)||void 0===t?void 0:t.__typename)&&(B=[C.readingList].concat((0,s.A)(B))),null!=C&&null!==(n=C.catalogsByUser)&&void 0!==n&&null!==(a=n.paging)&&void 0!==a&&a.nextPageCursor&&(x=function(){return j({variables:D(D({},w),{},{pagingOptions:D(D({},w.pagingOptions),{},{cursor:{id:C.catalogsByUser.paging.nextPageCursor.id}})})})}),d.createElement(v.a,{width:"300px"},d.createElement("div",{className:E(L),ref:y},d.createElement(S,{target:i,kind:r,viewer:h,catalogs:B,isLoading:A,fetchMore:x,scrollableEl:y.current})),!A&&d.createElement(v.a,{borderTop:"neutral.primary",padding:"20px 24px 24px"},d.createElement(p.kZ,{color:"ACCENT",scale:"L"},d.createElement(f.N,{onClick:N},"Create new list"))))}var B=n(86595),R=n(88055),V=n.n(R),_=n(95420),M=n(678),F=n(34317),H=n(97249),U=n(20631);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,c.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K,q="temp-catalog-id",Y=n(24960),Q=n(85864),Z=n(60603),$=n(94405);function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W.apply(null,arguments)}const X=function(e){return d.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),K||(K=d.createElement("path",{fill:"#000",d:"M17.5 1.25a.5.5 0 0 1 1 0v2.5H21a.5.5 0 0 1 0 1h-2.5v2.5a.5.5 0 0 1-1 0v-2.5H15a.5.5 0 0 1 0-1h2.5zm-11 4.5a1 1 0 0 1 1-1H11a.5.5 0 0 0 0-1H7.5a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4z"})))};var J;function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ee.apply(null,arguments)}const te=function(e){return d.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),J||(J=d.createElement("path",{fill:"#000",d:"M7.5 3.75a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-14a2 2 0 0 0-2-2z"})))};var ne=function(e){return{"& path":{fill:e.colorTokens.border.neutral.secondary.base}}},ae=function(e){return{"& path":{fill:e.colorTokens.foreground.neutral.primary.hover}}},ie=function(){var e=(0,m.l)();return d.createElement(X,{className:e(ne)})},re=function(){var e=(0,m.l)();return d.createElement(te,{className:e(ae)})};function oe(e){return e.insideACatalog?d.createElement(re,null):d.createElement(ie,null)}var le=["viewer","defaultToBookmarkIcon"];function de(e){var t=e.children,n=e.isPanelVisible,a=e.hidePanel,i=e.togglePanel,r=e.target,l=e.kind,c=e.viewer,s=e.bookmarkIcon,u=e.isInACatalog,g=e.isInReadingList,v=e.catalogsCount,f=e.popoverDisplay,p=(0,Z.e)(!1),m=(0,o.A)(p,3),b=m[0],h=m[1],k=m[2],y=function(e,t,n,a){var i=(0,F.$)(),r=(0,_.n)(U.M,{variables:{type:t,operation:{preprend:{type:a,id:n}}},optimisticResponse:{addToPredefinedCatalog:{__typename:"AddToPredefinedCatalogSucces",version:C.Xj,insertedItem:{__typename:"CatalogItemV2",catalogId:q,catalogItemId:C.ue}}},onCompleted:function(e){if("AddToPredefinedCatalogSucces"===e.addToPredefinedCatalog.__typename&&a===E.Bd.POST){var t=e.addToPredefinedCatalog.insertedItem;i.event("post.addToList",{listId:t.catalogId,postId:t.catalogItemId})}},update:function(i,r){var o,l=null===(o=r.data)||void 0===o?void 0:o.addToPredefinedCatalog;if("AddToPredefinedCatalogSucces"===(null==l?void 0:l.__typename)){var d,c,s=l.insertedItem,u=l.version;if(s.catalogId!==q&&((0,M.eq)(i,s.catalogId,u),(0,M.VP)(i,s.catalogId,[s.catalogItemId],a)),a===E.Bd.POST){d="PostViewerEdge:".concat((0,H.N)(n,e)),c=U.W;var g=i.readFragment({id:d,fragment:c});if(null!=g&&g.catalogsConnection){var v=V()(g.catalogsConnection.predefinedContainingThis),f=v.findIndex((function(e){return e.predefined===t}));if(-1!==f)v[f].catalogItemIds.push(s.catalogItemId);else{var p={catalogId:s.catalogId,predefined:t,version:u,catalogItemIds:[s.catalogItemId]};v.push(p)}i.writeFragment({id:d,fragment:c,data:G(G({},g),{},{catalogsConnection:G(G({},g.catalogsConnection),{},{predefinedContainingThis:v})})})}}}}}),l=(0,o.A)(r,2);return{addToPredefined:l[0],addToPredefinedLoading:l[1].loading}}(c.id,E.cA.READING_LIST,r.id,l),w=y.addToPredefined,I=y.addToPredefinedLoading,O=d.useCallback((function(){i(),g||u||w()}),[i,u,g,w]);return d.createElement(Y.A,{isVisible:n,popoverRenderFn:function(){return d.createElement(N,{showCreateModal:h,hidePanel:a,target:r,kind:l,viewer:c,addToPredefinedLoading:I})},hide:a,targetDistance:15,display:f},d.createElement(B.a,{isVisible:b,hide:k,target:r,kind:l,viewer:c}),null==t?void 0:t({onClick:O,bookmarkIcon:s,catalogsCount:v,isPanelVisible:n}))}function ce(e){var t,n,a,o=e.viewer,c=e.defaultToBookmarkIcon,s=(0,r.A)(e,le),u=d.useMemo((function(){return s.kind===E.Bd.POST?{postId:s.target.id,isPostKind:!0}:{postId:"",isPostKind:!1}}),[s.kind,s.target]),g=(0,l.I)($.jq,{ssr:!1,variables:u}).data,v=null,f=null;"Post"===(null==g||null===(t=g.postResult)||void 0===t?void 0:t.__typename)&&(v=g.postResult.viewerEdge.catalogsConnection,f=g.postResult);var p=(null===(n=v)||void 0===n?void 0:n.catalogsContainingThis)&&v.catalogsContainingThis.length>0,m=d.useMemo((function(){var e,t;return!!(null===(e=v)||void 0===e||null===(t=e.predefinedContainingThis)||void 0===t?void 0:t.find((function(e){return e.predefined===E.cA.READING_LIST})))}),[v]),b=d.useMemo((function(){var e;return((null===(e=v)||void 0===e?void 0:e.catalogsContainingThis.length)||0)+(m?1:0)}),[null===(a=v)||void 0===a?void 0:a.catalogsContainingThis.length,m]),h=d.createElement(oe,{insideACatalog:!!p||m});return u.isPostKind?o&&v&&f?d.createElement(Q.B,null,(function(e){var t=e.isVisible,n=e.toggle,a=e.hide;return d.createElement(de,(0,i.A)({},s,{target:f,viewer:o,isPanelVisible:t,togglePanel:n,hidePanel:a,bookmarkIcon:h,isInACatalog:!!p,isInReadingList:m,catalogsCount:b}))})):c||!s.children?h:s.children({onClick:function(){return null},bookmarkIcon:h,catalogsCount:b,isPanelVisible:!1,isDisabled:!0}):null}},62464:(e,t,n)=>{n.d(t,{Q:()=>E});var a=n(58168),i=n(80045),r=n(64467),o=n(96540),l=n(27721),d=n(43634),c=n(28993),s=n(5600),u=n(44402),g=n(42976),v=n(23448),f=n(93948),p=["susiEntry","susiActionUrl","rules","testId","targetDistance"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var b=function(e){return{color:e.colorTokens.foreground.neutral.secondary.base,"&:hover":{color:e.colorTokens.foreground.neutral.primary.hover}}},h=function(e,t){return function(n){var a=n.colorTokens.foreground.neutral.primary.hover,i=n.colorTokens.foreground.neutral.secondary.base;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({padding:"8px 2px",":hover:not(:disabled) svg path":{fill:t?i:a},":focus svg path":{fill:t?i:a},cursor:t?"not-allowed":"pointer",opacity:t?.3:void 0,"& svg path":{fill:i}},e)}},k="Add to list bookmark button",y=function(e){var t=e.bookmarkIcon,n=e.onClick,a=e.isPanelVisible,i=e.rules,r=e.disabled,l=e.testId;return o.createElement(c.P,{ariaControls:"addToCatalogBookmarkButton",ariaLabel:k,ariaExpanded:a?"true":"false",onClick:n,rules:h(i),disabled:r,testId:l},t)};function E(e){var t=e.susiEntry,n=void 0===t?"list":t,r=e.susiActionUrl,c=e.rules,m=e.testId,E=e.targetDistance,w=void 0===E?10:E,I=(0,i.A)(e,p),O=(0,u.l)(),C=(0,l.R)().value,P=I.kind===g.Bd.POST,T=P?I.target.isPublished:void 0;return P&&!T?o.createElement(s.G,{placement:"top",targetDistance:w,tooltipText:"You cannot Save a draft"},o.createElement("div",{className:O(h(c,!0)),"data-testid":m},o.createElement(v.A,{className:O(b),"aria-label":k,disabled:!0}))):C?o.createElement(s.G,{placement:"top",targetDistance:w,tooltipText:"Save"},o.createElement(f.f,(0,a.A)({},I,{viewer:C}),(function(e){var t=e.onClick,n=e.bookmarkIcon,a=e.isPanelVisible,i=e.isDisabled;return o.createElement(y,{bookmarkIcon:n,onClick:t,isPanelVisible:a,rules:c,disabled:i,testId:m})}))):o.createElement(s.G,{placement:"top",targetDistance:w,tooltipText:"Save"},o.createElement(d.r,{operation:"register",susiEntry:n,actionUrl:r,testId:m,post:P?I.target:void 0},o.createElement(v.A,{className:O([b,c]),"aria-label":k})))}},96783:(e,t,n)=>{n.d(t,{T:()=>d});var a=n(96540),i=n(62464),r=n(42976),o=n(39160),l=n(46879);function d(e){var t=e.post,n=e.susiEntry,d=e.rules,c=e.targetDistance,s=e.testId,u=t.id,g=t.visibility,v=(0,o.d4)((function(e){return e.config.authDomain}));return g===r.dL.UNLISTED?null:a.createElement(i.Q,{kind:r.Bd.POST,target:t,rules:d,susiEntry:n,susiActionUrl:(0,l.are)(v,u),targetDistance:c,testId:s})}},74938:(e,t,n)=>{n.d(t,{q:()=>a});var a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"auroraHooks_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuroraEligible"}},{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}}]}}]}}]}},65550:(e,t,n)=>{n.d(t,{L:()=>o});var a=n(80296),i=n(96540),r=n(61333),o=function(){var e=i.useState(!1),t=(0,a.A)(e,2),n=t[0],o=t[1];return i.useEffect((function(){o((0,r.Gz)(navigator.userAgent))}),[]),n}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/2712.0f6c85f5.chunk.js.map